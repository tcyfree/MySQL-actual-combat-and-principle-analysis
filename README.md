# MySQL实战与原理分析
````
原创内容，转载请注明出处~
````

# 一、选题产生的背景、市场需求情况及产品定位


MySQL是Web世界中使用最广泛的数据库服务器。和其他数据库系统相比，MySQL最重要是插件式的存储引擎可以在数据处理和存储分离，可以在使用时根据性能，特性，以及其他需求来选择数据存储的方式。MySQL由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择 MySQL 作为网站数据库。

但是大部分开发岗位的人员（非DBA）在使用MySQL基本停留在增删改查使用层面，即使对索引的使用也是模模糊糊的，很少了解其中的原理。

因此该书主要针对有一定了解SQL语句，起码会简单的增删改查基本操作。主要是更深入的理解它们的原理，以便在合适的情况下使用合适解决方案，达到从特殊到一般的泛化思维。

查漏补缺一些平时开发容易忽略的地方。前往那些其他人很少涉足的领域，去发现不一样的精彩的或者有价值、有潜力的东西，希望可以发现一条不一样的曲径。

把晦涩难懂的理论原理写的更通俗形象一些，从文字排版到画图，尽量简明易懂。相对比较权威的《高性能MySQL》，一般人比较难理解。如果面向开发岗位的程序员，简明易懂的数据库方面的书籍更容易接受且实用，而不是用来查阅的工具书。

# 二、内容简介

&nbsp;&nbsp;&nbsp;&nbsp;在编程领域有一句人尽皆知的法则“程序 = 数据结构 + 算法”，我个人是不太赞同这句话（因为我觉得程序不仅仅是数据结构加算法），但是在日常的学习和工作中我确认深深感受到数据结构和算法的重要性，很多东西，如果你愿意稍稍往深处挖一点，那么扑面而来的一定是各种数据结构和算法知识。例如几乎每个程序员都要打交道的数据库，如果仅仅是用来存个数据、建建表、建建索引、做做增删改查，那么也许觉得数据结构和这东西没什么关系。

&nbsp;&nbsp;&nbsp;&nbsp;不过要是哪天心血来潮，想知道的多一点，想研究一下如何优化数据库，比如最常优化的数据库索引，那么一定避免不了研究索引的原理，如果想要真正明白索引是怎么工作的，如何合理的使用索引以优化数据库，那么就免不了纠结于一堆数据结构与算法之间了。MySQL官方对索引的定义为：索引（Index）是帮助MySQL高效获取数据的数据结构。提取句子主干，就可以得到索引的本质：索引是数据结构。
&nbsp;&nbsp;&nbsp;&nbsp;所以，如果说“程序的核心基础 = 数据结构 + 算法”我是十分赞同的，而一个想成为高手的程序员，一定会去学习程序的核心基础。好吧，说了这么多，其实我的意思是如果想把数据库索引学个明明白白，就必须将数据结构和算法作为切入点去学习，遗憾的是我目前还没有在网上找到从原理层面去介绍数据库索引的资料（这里仅指在通俗资料领域没找到，不包括学术论文），倒不是说没有高水平的程序员，就只在我们公司范围内能把这一点讲透彻讲明白的数据库大牛也海了去了，只是由于工作的忙碌和个人兴趣原因，这些大牛们没有时间或没有兴趣去写这方面的文章。由于工作的需要，我这个半桶水的程序员这段时间也草草研究一些关于MySQL数据库索引的东西，虽然对这方面的理解相比那些大牛差的太远了，不过这里我还是将这些浅薄的知识总结成文吧。

&nbsp;&nbsp;&nbsp;&nbsp;聪明人知其然，精明人知其然知其所以然，高明人知其所以然知其所必然：聪明人知道结果；精明人不但知道结果还知道发生的原因；高明人知道结果知道如何发生的，还知道如何预防。这本书主要是从MySQL实战和原理解析的特殊化到一般的泛化思维。


# 三、大纲目录
# 第1章 索引
## 1.1 数据结构及算法基础

### 1.1.1 索引的本质

### 1.1.2 B-Tree和B+Tree

### 1.1.3 为什么实用B-Tree（B+Tree）

## 1.2 MySQL索引实现

### 1.2.1 MyISAM索引实现         

### 1.2.2 InnoDB索引实现

## 1.3 索引用策略及优化

### 1.3.1 示例数据库

### 1.3.2 最左前缀原理与相关优化

### 1.3.3 索引选择性与前缀索引

### 1.3.4 InnoDB的主键选择与插入优化

# 第2章 MySQL中字段类型与合理的选择字段类型
[MySQL中字段类型与合理的选择字段类型；int(11)最大长度是多少？varchar最大长度是多少？]([https://segmentfault.com/a/1190000010012140]
)
## 2.1 字段类型
### 2.1.1 数值
### 2.1.2 字符串类型
### 2.1.3 时间类型

## 2.2 举例
###2.2.1 int(11)最大长度是多少？
###2.2.2 varchar最大长度是多少？

## 2.3 总结：合理的选择数据类型

# 一、什么影响了数据库查询速度
## 1.1 影响数据库查询速度的四个因素
## 1.2 风险分析
## 1.3 网卡流量：如何避免无法连接数据库的情况
## 1.4 大表带来的问题（重要）
### 1.4.1 大表的特点：
###1.4.2 大表的危害：
###1.4.3 如何处理数据库上的大表
##1.5 大事务带来的问题（重要）
###1.5.1 什么是事务
###1.5.2事务的ACID属性
###1.5.3 大事务
# 二、什么影响了MySQL性能（非常重要）
## 2.1 影响性能的几个方面
##2.2 MySQL体系结构
##2.3 InnoDB存储引擎
##2.3.1 InnoDB使用表空间进行数据存储。
###2.3.2 (MySQL5.5默认)系统表空间与(MySQL5.6及以后默认)独立表空间
###2.3.3 系统表空间的表转移到独立表空间中的方法
##2.4 InnoDB存储引擎的特性
###2.4.1 特性一：
###2.4.2 特性二：
##2.5 如何选择正确的存储引擎
##2.6 配置参数
###2.6.1 内存配置相关参数
##2.7 性能优化顺序